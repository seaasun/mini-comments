<view class="input-box" 
        wx:if="{{!states.isInputComment && states.isAuth}}"
        bindtap="commentFocusInput">
    <view 
         bindtap="commentFocusInput"
         wx:if="{{states.isAuth}}"  
        class="input-display">     
        <view class="text-clip input-display-text">
            {{currentComment ? currentComment : '说点什么...'}}{{states.isInputComment? 1:0}} {{textFoucs ? 1:0}}
        </view>
    </view>
     
</view>
<view class="input-box" wx:if="{{!states.isInputComment && !states.isAuth}}">
    <button open-type="getUserInfo" 
        bindgetuserinfo="getUserInfo"
        class="g-input-display-button input-display "> 说点什么 {{states.isInputComment? 1:0}} {{textFoucs ? 1:0}}</button>
</view> 


<!-- <half-screen-dialog show="{{states.isInputComment}}" 
    bind:close="commentNotFocusInput"
    extClass="textarea-dialog"
    maskClosable="{{false}}"
    mask="{{true}}"
    > 
    <view slot ="title">写留言</view> -->
    
<view class="textarea-box, {{states.isInputComment ? 'show' : 'hide'}}"
   >
    <view
        slot="desc"
        class="input-main"
        style="padding-bottom:{{textBottom}};">
        <view class="input-main-brief">
            <view class="input-breif-text">{{textareaBrief}}：{{states.isInputComment? 1:0}} {{textFoucs ? 1:0}}</view>
            <view class="intpu-brief-hidden" 
                bindtap="onCloseTextare">
                    <mp-icon icon="close" color="#B2B2B2" size="20"></mp-icon>
            </view>  
        </view>    
        <textarea class="input-textarea"
            value="{{currentComment}}"
            placeholder="{{inputPlaceholder}}"
            placeholder-class="input-input-placeholder"
            maxlength = "500"

            auto-focus="{{false}}"
            focus = "{{textFoucs}}"

            auto-height="{{true}}"
            style="max-height: {{textMaxHeight}}"
            disable-default-padding
                    
            fixed
            show-confirm-bar="{{false}}"
            adjust-position="{{true}}"

            bindTap ="ggg"
            bindfocus="focusedTextarea"
            bindblur="onTextareaBlur"
            bindinput="updateCurrentComment"
            bindkeyboardheightchange="commentHeightUpdate"
        />
        <view class="input-action">
            <view  class="input-action-emoj" bindtap="showEmoji">
                <mp-icon icon="sticker" color="#B2B2B2" size="32"></mp-icon>
            </view>
            <view
                bindtap="send"
                class="input-action-send">
                <view wx:if="{{!sending}}">发布</view>
                <view wx:if="{{sending}}">发布中</view>
            </view>
        </view>
        <scroll-view wx:if="{{emojiShowed}}"
                scroll-y
                style="height: {{emojiHeight}}">
            <view class="emoji-box">
                <view wx:for="{{emojis}}" 
                    class="emoji-select"
                    bindtap="addEmoji"
                    data-emoji-index = "{{index}}"
                    wx:key="index">{{item}}</view>
                    </view>
        </scroll-view>  
    </view>    
      
</view>    
<!-- </half-screen-dialog> -->

<view wx:if="{{successMsg}}" 
    class="success-tip-box">
   {{successMsg}}
</view>