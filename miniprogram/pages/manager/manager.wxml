<!--miniprogram/pages/manager/manager.wxml-->
<view class="wxml-box">
    <view class="wxml-main">
        <view class="manager-box">
            <!-- <view class="manager-avator">
            </view> -->
            <view class="manager-brief">
                <view class="manager-name">留言板列表</view>
                <view class="manager-status">话题数 22</view>
            </view>    
        </view>

        <my-page-loading wx:if="{{!topicHasFirstLoad && !topicHasLoadError}}"/>

        <view wx:if="{{topicHasFirstLoad}}" 
            class="topic-lists">

            <view wx:if="{{ topics.length === 0 && !topicHasLoadError}}" 
                class="topic-box">
                <view class="topic-time">
                    还没您的留言板
                </view>
                <view class="go-create-topic">
                    <mp-icon icon="add"></mp-icon>    
                    <view>去建留言板</view>
                </view>
                <view class="go-create-topic-brief">
                    亦可在电脑端创建留言板
                </view>    
            </view>

            <view wx:for="{{topics}}" wx:key="id" class="topic-box">
                <view class="topic-time">
                    {{item.creatFriendlyTime}}
                </view>
                <navigator class="topic-item">
                    <view class="topic-main">
                        <view class="topic-text text-clip-2">
                            {{item.title}}
                        </view>
                        <view class="topic-brief">
                            <view class="topic-breif-item">
                                新评论 {{item.lastFriendlyTime}}
                            </view>
                            <view class="topic-breif-item">
                                评论 {{item.msgQtyForCommenter}}
                            </view>       
                        </view> 
                    </view>
                    <view class="topic-image"></view>
                </navigator>
            </view>    
            
        </view>
        <!-- <view class="pagination-box">
            <view class="pagination-prev">前一页</view>
            <view class="pagination-select">
                <picker range="{{paginations}}" 
                        range-key="index"
                        value="0">
                    1   
                </picker>
            </view>
            <view class="pagination-next">后一页</view>
        </view> -->

        <view wx:if ="{{topicHasLoadError}}" 
            bindtap="refreshWeb"
            class='g-web-error'>
             <mp-icon icon="refresh" size="32" color="#B2B2B2"/>
            <view class='g-web-error-text'>网络错误，点击重试</view>
        </view>

    </view>
    <view wx:if="{{noLoaderMoreShowed}}" 
        class="g-no-loader-more" />
    <my-footer-loading wx:if="{{loaderMoreShowed}}" />
    <my-footer></my-footer>
</view>

